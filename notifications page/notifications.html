<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ZFF - Push Notification Testing Interface for validating message delivery across devices">
    <title>Push Notification Testing - ZFF</title>
    <link rel="stylesheet" href="../css/main.css">
>
</head>
<body class="bg-background min-h-screen">
    <!-- Header Navigation -->
    <header class="bg-surface border-b border-border sticky top-0 z-50 shadow-sm">
        <div class="max-w-9xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Logo and Brand -->
                <div class="flex items-center gap-3">
                    <div class="flex items-center justify-center w-10 h-10 bg-primary-100 rounded-lg">
                        <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-lg font-semibold text-text-primary">PharmaCrew</h1>
                        <p class="text-xs text-text-secondary">Notification Testing</p>
                    </div>
                </div>

<div class="layout">
    <!-- SIDEBAR -->
    <aside class="sidebar" role="navigation" aria-label="Main navigation">
        <div class="brand">ZFF</div>
        <nav class="menu">
        <a href="#" class="menu-item">Dashboard</a>
        <a href="#" class="menu-item">Schedule</a>
        <a href="#" class="menu-item">Messages</a>
        <a href="#" class="menu-item">Notifications</a>
        <a href="#" class="menu-item active">Profile</a>
        <a href="#" class="menu-item logout" id="sidebarLogout">Log out</a>
        </nav>
    </aside>

                <!-- User Profile -->
                <div class="flex items-center gap-3">
                    <button type="button" class="relative p-2 text-text-secondary hover:text-primary focus-visible-ring rounded-lg" aria-label="View notifications">
                        <img src="https://api.iconify.design/mdi:bell-outline.svg?color=%236B7280" alt="" class="w-6 h-6" aria-hidden="true">
                        <span class="absolute top-1 right-1 w-2 h-2 bg-accent rounded-full"></span>
                    </button>
                    <div class="flex items-center gap-2 pl-3 border-l border-border">
                        <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop" 
                                alt="Profile picture of Sarah Johnson, Pharmacy Manager" 
                                class="w-8 h-8 rounded-full object-cover"
                                onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                        <div class="hidden sm:block">
                            <p class="text-sm font-medium text-text-primary">Sarah Johnson</p>
                            <p class="text-xs text-text-secondary">Manager</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-9xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Page Header -->
        <div class="mb-8">
            <div class="flex items-center justify-between mb-4">
                <div>
                    <h2 class="text-3xl font-semibold text-text-primary mb-2">Push Notification Testing</h2>
                    <p class="text-text-secondary">Validate message delivery across devices and platforms</p>
                </div>
                <div class="flex items-center gap-3">
                    <button type="button" id="refreshStatusBtn" class="btn btn-outline px-4 py-2 text-sm">
                        <img src="https://api.iconify.design/mdi:refresh.svg?color=%232563EB" alt="" class="w-5 h-5 mr-2" aria-hidden="true">
                        Refresh Status
                    </button>
                    <button type="button" id="viewHistoryBtn" class="btn btn-outline px-4 py-2 text-sm">
                        <img src="https://api.iconify.design/mdi:history.svg?color=%232563EB" alt="" class="w-5 h-5 mr-2" aria-hidden="true">
                        View History
                    </button>
                </div>
            </div>

            <!-- System Status Bar -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                <div class="card p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-xs text-text-secondary mb-1">Push Service</p>
                            <div class="flex items-center gap-2">
                                <span class="status-indicator status-active"></span>
                                <span class="text-sm font-medium text-text-primary">Connected</span>
                            </div>
                        </div>
                        <img src="https://api.iconify.design/mdi:cloud-check-outline.svg?color=%2310B981" alt="" class="w-8 h-8" aria-hidden="true">
                    </div>
                </div>
                <div class="card p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-xs text-text-secondary mb-1">Certificate Status</p>
                            <div class="flex items-center gap-2">
                                <span class="status-indicator status-active"></span>
                                <span class="text-sm font-medium text-text-primary">Valid (89 days)</span>
                            </div>
                        </div>
                        <img src="https://api.iconify.design/mdi:certificate-outline.svg?color=%2310B981" alt="" class="w-8 h-8" aria-hidden="true">
                    </div>
                </div>
                <div class="card p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-xs text-text-secondary mb-1">Backup Delivery</p>
                            <div class="flex items-center gap-2">
                                <span class="status-indicator status-active"></span>
                                <span class="text-sm font-medium text-text-primary">Available</span>
                            </div>
                        </div>
                        <img src="https://api.iconify.design/mdi:backup-restore.svg?color=%2310B981" alt="" class="w-8 h-8" aria-hidden="true">
                    </div>
                </div>
                <div class="card p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-xs text-text-secondary mb-1">Active Devices</p>
                            <p class="text-xl font-semibold text-text-primary">247</p>
                        </div>
                        <img src="https://api.iconify.design/mdi:devices.svg?color=%232563EB" alt="" class="w-8 h-8" aria-hidden="true">
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Testing Interface -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- Message Composer Section -->
            <div class="lg:col-span-2 space-y-6">
                <!-- Message Composer Card -->
                <article class="card p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-lg font-semibold text-text-primary">Message Composer</h3>
                        <button type="button" id="loadTemplateBtn" class="btn btn-outline px-3 py-1.5 text-sm">
                            <img src="https://api.iconify.design/mdi:file-document-outline.svg?color=%232563EB" alt="" class="w-4 h-4 mr-1.5" aria-hidden="true">
                            Load Template
                        </button>
                    </div>

                    <form id="notificationTestForm" class="space-y-5">
                        <!-- Message Title -->
                        <div>
                            <label for="messageTitle" class="block text-sm font-medium text-text-primary mb-2">
                                Notification Title
                                <span class="text-accent" aria-label="required">*</span>
                            </label>
                            <input type="text" 
                                   id="messageTitle" 
                                   name="messageTitle" 
                                   class="input" 
                                   placeholder="Enter notification title"
                                   maxlength="60"
                                   required
                                   aria-required="true">
                            <p class="text-xs text-text-secondary mt-1">Maximum 60 characters</p>
                        </div>

                        <!-- Message Body -->
                        <div>
                            <label for="messageBody" class="block text-sm font-medium text-text-primary mb-2">
                                Message Content
                                <span class="text-accent" aria-label="required">*</span>
                            </label>
                            <textarea id="messageBody" 
                                      name="messageBody" 
                                      rows="4" 
                                      class="input resize-none" 
                                      placeholder="Enter notification message content"
                                      maxlength="200"
                                      required
                                      aria-required="true"></textarea>
                            <p class="text-xs text-text-secondary mt-1">Maximum 200 characters</p>
                        </div>

                        <!-- Priority Level -->
                        <div>
                            <label for="priorityLevel" class="block text-sm font-medium text-text-primary mb-2">
                                Priority Level
                                <span class="text-accent" aria-label="required">*</span>
                            </label>
                            <select id="priorityLevel" name="priorityLevel" class="input" required aria-required="true">
                                <option value="">Select priority</option>
                                <option value="high">High - Critical alerts</option>
                                <option value="normal" selected>Normal - Standard notifications</option>
                                <option value="low">Low - Informational updates</option>
                            </select>
                        </div>

                        <!-- Recipient Targeting -->
                        <div>
                            <label class="block text-sm font-medium text-text-primary mb-3">
                                Recipient Targeting
                                <span class="text-accent" aria-label="required">*</span>
                            </label>
                            <div class="space-y-3">
                                <label class="flex items-start gap-3 p-3 border border-border rounded-lg cursor-pointer hover:bg-background transition-colors">
                                    <input type="radio" name="targetType" value="individual" class="mt-1" required>
                                    <div class="flex-1">
                                        <p class="text-sm font-medium text-text-primary">Individual User</p>
                                        <p class="text-xs text-text-secondary">Send to specific staff member</p>
                                    </div>
                                </label>
                                <label class="flex items-start gap-3 p-3 border border-border rounded-lg cursor-pointer hover:bg-background transition-colors">
                                    <input type="radio" name="targetType" value="role" class="mt-1" checked>
                                    <div class="flex-1">
                                        <p class="text-sm font-medium text-text-primary">Role-Based</p>
                                        <p class="text-xs text-text-secondary">Target by job role (Pharmacist, Technician, Manager)</p>
                                    </div>
                                </label>
                                <label class="flex items-start gap-3 p-3 border border-border rounded-lg cursor-pointer hover:bg-background transition-colors">
                                    <input type="radio" name="targetType" value="location" class="mt-1">
                                    <div class="flex-1">
                                        <p class="text-sm font-medium text-text-primary">Location-Specific</p>
                                        <p class="text-xs text-text-secondary">Send to specific pharmacy location</p>
                                    </div>
                                </label>
                                <label class="flex items-start gap-3 p-3 border border-border rounded-lg cursor-pointer hover:bg-background transition-colors">
                                    <input type="radio" name="targetType" value="all" class="mt-1">
                                    <div class="flex-1">
                                        <p class="text-sm font-medium text-text-primary">All Devices</p>
                                        <p class="text-xs text-text-secondary">Broadcast to all registered devices</p>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <!-- Target Selection (Dynamic based on radio) -->
                        <div id="targetSelectionContainer" class="hidden">
                            <label for="targetSelection" class="block text-sm font-medium text-text-primary mb-2">
                                Select Target
                            </label>
                            <select id="targetSelection" name="targetSelection" class="input">
                                <option value="">Choose target...</option>
                            </select>
                        </div>

                        <!-- Platform Selection -->
                        <div>
                            <label class="block text-sm font-medium text-text-primary mb-3">
                                Target Platforms
                            </label>
                            <div class="grid grid-cols-3 gap-3">
                                <label class="flex items-center gap-2 p-3 border border-border rounded-lg cursor-pointer hover:bg-background transition-colors">
                                    <input type="checkbox" name="platforms" value="ios" checked class="w-4 h-4 text-primary border-border rounded focus:ring-2 focus:ring-primary-500">
                                    <div class="flex items-center gap-2">
                                        <img src="https://api.iconify.design/mdi:apple.svg?color=%236B7280" alt="" class="w-5 h-5" aria-hidden="true">
                                        <span class="text-sm text-text-primary">iOS</span>
                                    </div>
                                </label>
                                <label class="flex items-center gap-2 p-3 border border-border rounded-lg cursor-pointer hover:bg-background transition-colors">
                                    <input type="checkbox" name="platforms" value="android" checked class="w-4 h-4 text-primary border-border rounded focus:ring-2 focus:ring-primary-500">
                                    <div class="flex items-center gap-2">
                                        <img src="https://api.iconify.design/mdi:android.svg?color=%236B7280" alt="" class="w-5 h-5" aria-hidden="true">
                                        <span class="text-sm text-text-primary">Android</span>
                                    </div>
                                </label>
                                <label class="flex items-center gap-2 p-3 border border-border rounded-lg cursor-pointer hover:bg-background transition-colors">
                                    <input type="checkbox" name="platforms" value="web" checked class="w-4 h-4 text-primary border-border rounded focus:ring-2 focus:ring-primary-500">
                                    <div class="flex items-center gap-2">
                                        <img src="https://api.iconify.design/mdi:web.svg?color=%236B7280" alt="" class="w-5 h-5" aria-hidden="true">
                                        <span class="text-sm text-text-primary">Web</span>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <!-- Scheduling Options -->
                        <div>
                            <label class="block text-sm font-medium text-text-primary mb-3">
                                Delivery Timing
                            </label>
                            <div class="space-y-3">
                                <label class="flex items-center gap-3 p-3 border border-border rounded-lg cursor-pointer hover:bg-background transition-colors">
                                    <input type="radio" name="deliveryTiming" value="immediate" checked>
                                    <div class="flex-1">
                                        <p class="text-sm font-medium text-text-primary">Send Immediately</p>
                                        <p class="text-xs text-text-secondary">Deliver notification right away</p>
                                    </div>
                                </label>
                                <label class="flex items-center gap-3 p-3 border border-border rounded-lg cursor-pointer hover:bg-background transition-colors">
                                    <input type="radio" name="deliveryTiming" value="scheduled">
                                    <div class="flex-1">
                                        <p class="text-sm font-medium text-text-primary">Schedule for Later</p>
                                        <p class="text-xs text-text-secondary">Set specific date and time</p>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <!-- Scheduled Time (Hidden by default) -->
                        <div id="scheduledTimeContainer" class="hidden">
                            <label for="scheduledTime" class="block text-sm font-medium text-text-primary mb-2">
                                Scheduled Date & Time
                            </label>
                            <input type="datetime-local" 
                                   id="scheduledTime" 
                                   name="scheduledTime" 
                                   class="input">
                        </div>

                        <!-- A/B Testing Toggle -->
                        <div class="flex items-center justify-between p-4 bg-background rounded-lg">
                            <div class="flex items-center gap-3">
                                <img src="https://api.iconify.design/mdi:ab-testing.svg?color=%232563EB" alt="" class="w-6 h-6" aria-hidden="true">
                                <div>
                                    <p class="text-sm font-medium text-text-primary">Enable A/B Testing</p>
                                    <p class="text-xs text-text-secondary">Test message variations for effectiveness</p>
                                </div>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="abTestingToggle" class="sr-only peer">
                                <div class="w-11 h-6 bg-border rounded-full peer peer-checked:bg-primary peer-focus:ring-2 peer-focus:ring-primary-500 transition-colors">
                                    <div class="absolute top-0.5 left-0.5 bg-surface w-5 h-5 rounded-full transition-transform peer-checked:translate-x-5"></div>
                                </div>
                            </label>
                        </div>

                        <!-- Action Buttons -->
                        <div class="flex items-center gap-3 pt-4 border-t border-border">
                            <button type="submit" class="btn btn-primary flex-1 py-3">
                                <img src="https://api.iconify.design/mdi:send.svg?color=%23FFFFFF" alt="" class="w-5 h-5 mr-2" aria-hidden="true">
                                Send Test Notification
                            </button>
                            <button type="button" id="saveTemplateBtn" class="btn btn-outline px-4 py-3">
                                <img src="https://api.iconify.design/mdi:content-save-outline.svg?color=%232563EB" alt="" class="w-5 h-5" aria-hidden="true">
                            </button>
                            <button type="reset" class="btn btn-outline px-4 py-3">
                                <img src="https://api.iconify.design/mdi:close.svg?color=%236B7280" alt="" class="w-5 h-5" aria-hidden="true">
                            </button>
                        </div>
                    </form>
                </article>

                <!-- Recent Test Results -->
                <article class="card p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold text-text-primary">Recent Test Results</h3>
                        <button type="button" class="text-sm text-primary hover:text-primary-700 focus-visible-ring rounded">
                            View All
                        </button>
                    </div>

                    <div class="space-y-3">
                        <!-- Test Result Item 1 -->
                        <div class="flex items-start gap-4 p-4 bg-background rounded-lg hover:bg-border-light transition-colors">
                            <div class="flex-shrink-0 w-10 h-10 bg-success-100 rounded-lg flex items-center justify-center">
                                <img src="https://api.iconify.design/mdi:check-circle.svg?color=%2310B981" alt="" class="w-6 h-6" aria-hidden="true">
                            </div>
                            <div class="flex-1 min-w-0">
                                <div class="flex items-start justify-between mb-1">
                                    <p class="text-sm font-medium text-text-primary">Shift Reminder - Morning Team</p>
                                    <span class="badge badge-success">Delivered</span>
                                </div>
                                <p class="text-xs text-text-secondary mb-2">Sent to 24 devices • 23 delivered • 1 pending</p>
                                <div class="flex items-center gap-4 text-xs text-text-secondary">
                                    <span class="flex items-center gap-1">
                                        <img src="https://api.iconify.design/mdi:clock-outline.svg?color=%236B7280" alt="" class="w-4 h-4" aria-hidden="true">
                                        2 minutes ago
                                    </span>
                                    <span class="flex items-center gap-1">
                                        <img src="https://api.iconify.design/mdi:speedometer.svg?color=%236B7280" alt="" class="w-4 h-4" aria-hidden="true">
                                        Avg: 1.2s
                                    </span>
                                </div>
                            </div>
                        </div>

                        <!-- Test Result Item 2 -->
                        <div class="flex items-start gap-4 p-4 bg-background rounded-lg hover:bg-border-light transition-colors">
                            <div class="flex-shrink-0 w-10 h-10 bg-success-100 rounded-lg flex items-center justify-center">
                                <img src="https://api.iconify.design/mdi:check-circle.svg?color=%2310B981" alt="" class="w-6 h-6" aria-hidden="true">
                            </div>
                            <div class="flex-1 min-w-0">
                                <div class="flex items-start justify-between mb-1">
                                    <p class="text-sm font-medium text-text-primary">Inventory Alert - Low Stock</p>
                                    <span class="badge badge-success">Delivered</span>
                                </div>
                                <p class="text-xs text-text-secondary mb-2">Sent to 8 devices • 8 delivered • 0 failed</p>
                                <div class="flex items-center gap-4 text-xs text-text-secondary">
                                    <span class="flex items-center gap-1">
                                        <img src="https://api.iconify.design/mdi:clock-outline.svg?color=%236B7280" alt="" class="w-4 h-4" aria-hidden="true">
                                        15 minutes ago
                                    </span>
                                    <span class="flex items-center gap-1">
                                        <img src="https://api.iconify.design/mdi:speedometer.svg?color=%236B7280" alt="" class="w-4 h-4" aria-hidden="true">
                                        Avg: 0.9s
                                    </span>
                                </div>
                            </div>
                        </div>

                        <!-- Test Result Item 3 -->
                        <div class="flex items-start gap-4 p-4 bg-background rounded-lg hover:bg-border-light transition-colors">
                            <div class="flex-shrink-0 w-10 h-10 bg-warning-100 rounded-lg flex items-center justify-center">
                                <img src="https://api.iconify.design/mdi:alert-circle.svg?color=%23F59E0B" alt="" class="w-6 h-6" aria-hidden="true">
                            </div>
                            <div class="flex-1 min-w-0">
                                <div class="flex items-start justify-between mb-1">
                                    <p class="text-sm font-medium text-text-primary">Schedule Update - All Staff</p>
                                    <span class="badge badge-warning">Partial</span>
                                </div>
                                <p class="text-xs text-text-secondary mb-2">Sent to 45 devices • 42 delivered • 3 failed</p>
                                <div class="flex items-center gap-4 text-xs text-text-secondary">
                                    <span class="flex items-center gap-1">
                                        <img src="https://api.iconify.design/mdi:clock-outline.svg?color=%236B7280" alt="" class="w-4 h-4" aria-hidden="true">
                                        1 hour ago
                                    </span>
                                    <span class="flex items-center gap-1">
                                        <img src="https://api.iconify.design/mdi:speedometer.svg?color=%236B7280" alt="" class="w-4 h-4" aria-hidden="true">
                                        Avg: 2.1s
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </article>
            </div>

            <!-- Right Sidebar -->
            <div class="space-y-6">
                <!-- Device Registration Status -->
                <article class="card p-6">
                    <h3 class="text-lg font-semibold text-text-primary mb-4">Device Registration</h3>
                    
                    <div class="space-y-4">
                        <!-- Platform Breakdown -->
                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-sm text-text-secondary">iOS Devices</span>
                                <span class="text-sm font-medium text-text-primary">98</span>
                            </div>
                            <div class="w-full h-2 bg-border rounded-full overflow-hidden">
                                <div class="h-full bg-primary" style="width: 40%"></div>
                            </div>
                        </div>

                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-sm text-text-secondary">Android Devices</span>
                                <span class="text-sm font-medium text-text-primary">112</span>
                            </div>
                            <div class="w-full h-2 bg-border rounded-full overflow-hidden">
                                <div class="h-full bg-secondary" style="width: 45%"></div>
                            </div>
                        </div>

                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-sm text-text-secondary">Web Browsers</span>
                                <span class="text-sm font-medium text-text-primary">37</span>
                            </div>
                            <div class="w-full h-2 bg-border rounded-full overflow-hidden">
                                <div class="h-full bg-accent" style="width: 15%"></div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-6 pt-4 border-t border-border">
                        <div class="flex items-center justify-between text-sm">
                            <span class="text-text-secondary">Total Active</span>
                            <span class="text-lg font-semibold text-text-primary">247</span>
                        </div>
                    </div>
                </article>

                <!-- Delivery Analytics -->
                <article class="card p-6">
                    <h3 class="text-lg font-semibold text-text-primary mb-4">Delivery Analytics</h3>
                    
                    <div class="space-y-4">
                        <div class="flex items-center justify-between p-3 bg-success-50 rounded-lg">
                            <div class="flex items-center gap-2">
                                <img src="https://api.iconify.design/mdi:check-circle.svg?color=%2310B981" alt="" class="w-5 h-5" aria-hidden="true">
                                <span class="text-sm text-text-primary">Success Rate</span>
                            </div>
                            <span class="text-lg font-semibold text-success-700">98.7%</span>
                        </div>

                        <div class="flex items-center justify-between p-3 bg-primary-50 rounded-lg">
                            <div class="flex items-center gap-2">
                                <img src="https://api.iconify.design/mdi:speedometer.svg?color=%232563EB" alt="" class="w-5 h-5" aria-hidden="true">
                                <span class="text-sm text-text-primary">Avg Delivery</span>
                            </div>
                            <span class="text-lg font-semibold text-primary-700">1.4s</span>
                        </div>

                        <div class="flex items-center justify-between p-3 bg-warning-50 rounded-lg">
                            <div class="flex items-center gap-2">
                                <img src="https://api.iconify.design/mdi:alert-circle.svg?color=%23F59E0B" alt="" class="w-5 h-5" aria-hidden="true">
                                <span class="text-sm text-text-primary">Failed Today</span>
                            </div>
                            <span class="text-lg font-semibold text-warning-700">7</span>
                        </div>

                        <div class="flex items-center justify-between p-3 bg-background rounded-lg">
                            <div class="flex items-center gap-2">
                                <img src="https://api.iconify.design/mdi:eye-outline.svg?color=%236B7280" alt="" class="w-5 h-5" aria-hidden="true">
                                <span class="text-sm text-text-primary">Read Rate</span>
                            </div>
                            <span class="text-lg font-semibold text-text-primary">76.3%</span>
                        </div>
                    </div>
                </article>

                <!-- Quick Actions -->
                <article class="card p-6">
                    <h3 class="text-lg font-semibold text-text-primary mb-4">Quick Actions</h3>
                    
                    <div class="space-y-2">
                        <button type="button" class="btn btn-outline w-full justify-start text-sm py-2.5">
                            <img src="https://api.iconify.design/mdi:file-document-outline.svg?color=%232563EB" alt="" class="w-5 h-5 mr-2" aria-hidden="true">
                            Message Templates
                        </button>
                        <button type="button" class="btn btn-outline w-full justify-start text-sm py-2.5">
                            <img src="https://api.iconify.design/mdi:account-group-outline.svg?color=%232563EB" alt="" class="w-5 h-5 mr-2" aria-hidden="true">
                            Recipient Groups
                        </button>
                        <button type="button" class="btn btn-outline w-full justify-start text-sm py-2.5">
                            <img src="https://api.iconify.design/mdi:chart-line.svg?color=%232563EB" alt="" class="w-5 h-5 mr-2" aria-hidden="true">
                            Analytics Report
                        </button>
                        <button type="button" class="btn btn-outline w-full justify-start text-sm py-2.5">
                            <img src="https://api.iconify.design/mdi:cog-outline.svg?color=%232563EB" alt="" class="w-5 h-5 mr-2" aria-hidden="true">
                            Service Settings
                        </button>
                    </div>
                </article>

                <!-- Optimal Timing Recommendations -->
                <article class="card p-6">
                    <h3 class="text-lg font-semibold text-text-primary mb-4">Optimal Timing</h3>
                    
                    <div class="space-y-3">
                        <div class="flex items-start gap-3 p-3 bg-primary-50 rounded-lg">
                            <img src="https://api.iconify.design/mdi:lightbulb-on-outline.svg?color=%232563EB" alt="" class="w-5 h-5 flex-shrink-0 mt-0.5" aria-hidden="true">
                            <div>
                                <p class="text-sm font-medium text-primary-700 mb-1">Best Engagement</p>
                                <p class="text-xs text-primary-600">9:00 AM - 11:00 AM</p>
                            </div>
                        </div>

                        <div class="flex items-start gap-3 p-3 bg-background rounded-lg">
                            <img src="https://api.iconify.design/mdi:information-outline.svg?color=%236B7280" alt="" class="w-5 h-5 flex-shrink-0 mt-0.5" aria-hidden="true">
                            <div>
                                <p class="text-sm text-text-primary mb-1">Based on 30-day analysis</p>
                                <p class="text-xs text-text-secondary">Higher read rates during shift changes</p>
                            </div>
                        </div>
                    </div>
                </article>
            </div>
        </div>
    </main>

    <!-- Template Selection Modal -->
    <div id="templateModal" class="fixed inset-0 bg-text-primary/50 backdrop-blur-sm z-50 hidden items-center justify-center p-4">
        <div class="card max-w-2xl w-full max-h-[80vh] overflow-y-auto p-6 animate-slide-up">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-semibold text-text-primary">Message Templates</h3>
                <button type="button" id="closeTemplateModal" class="text-text-secondary hover:text-text-primary focus-visible-ring rounded p-1" aria-label="Close template modal">
                    <img src="https://api.iconify.design/mdi:close.svg?color=%236B7280" alt="" class="w-6 h-6" aria-hidden="true">
                </button>
            </div>

            <div class="space-y-3">
                <!-- Template 1 -->
                <button type="button" class="template-item w-full text-left p-4 border border-border rounded-lg hover:bg-background transition-colors focus-visible-ring" data-title="Shift Reminder" data-body="Your shift starts in 1 hour. Please arrive 15 minutes early for briefing.">
                    <div class="flex items-start justify-between mb-2">
                        <p class="font-medium text-text-primary">Shift Reminder</p>
                        <span class="badge badge-primary">High Priority</span>
                    </div>
                    <p class="text-sm text-text-secondary">Your shift starts in 1 hour. Please arrive 15 minutes early for briefing.</p>
                </button>

                <!-- Template 2 -->
                <button type="button" class="template-item w-full text-left p-4 border border-border rounded-lg hover:bg-background transition-colors focus-visible-ring" data-title="Inventory Alert" data-body="Low stock alert: [Item Name] is below reorder threshold. Please review and restock.">
                    <div class="flex items-start justify-between mb-2">
                        <p class="font-medium text-text-primary">Inventory Alert</p>
                        <span class="badge badge-warning">Normal Priority</span>
                    </div>
                    <p class="text-sm text-text-secondary">Low stock alert: [Item Name] is below reorder threshold. Please review and restock.</p>
                </button>

                <!-- Template 3 -->
                <button type="button" class="template-item w-full text-left p-4 border border-border rounded-lg hover:bg-background transition-colors focus-visible-ring" data-title="Schedule Update" data-body="Your schedule has been updated. Please check the weekly schedule for changes.">
                    <div class="flex items-start justify-between mb-2">
                        <p class="font-medium text-text-primary">Schedule Update</p>
                        <span class="badge badge-secondary">Normal Priority</span>
                    </div>
                    <p class="text-sm text-text-secondary">Your schedule has been updated. Please check the weekly schedule for changes.</p>
                </button>

                <!-- Template 4 -->
                <button type="button" class="template-item w-full text-left p-4 border border-border rounded-lg hover:bg-background transition-colors focus-visible-ring" data-title="Team Message" data-body="New team message from [Manager Name]. Please review when you have a moment.">
                    <div class="flex items-start justify-between mb-2">
                        <p class="font-medium text-text-primary">Team Message</p>
                        <span class="badge badge-primary">Normal Priority</span>
                    </div>
                    <p class="text-sm text-text-secondary">New team message from [Manager Name]. Please review when you have a moment.</p>
                </button>
            </div>
        </div>
    </div>

    <!-- Test History Modal -->
    <div id="historyModal" class="fixed inset-0 bg-text-primary/50 backdrop-blur-sm z-50 hidden items-center justify-center p-4">
        <div class="card max-w-4xl w-full max-h-[80vh] overflow-y-auto p-6 animate-slide-up">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-semibold text-text-primary">Test History</h3>
                <button type="button" id="closeHistoryModal" class="text-text-secondary hover:text-text-primary focus-visible-ring rounded p-1" aria-label="Close history modal">
                    <img src="https://api.iconify.design/mdi:close.svg?color=%236B7280" alt="" class="w-6 h-6" aria-hidden="true">
                </button>
            </div>

            <!-- Filter Options -->
            <div class="flex items-center gap-3 mb-6">
                <select class="input text-sm flex-1">
                    <option>All Tests</option>
                    <option>Successful</option>
                    <option>Failed</option>
                    <option>Partial</option>
                </select>
                <select class="input text-sm flex-1">
                    <option>Last 7 Days</option>
                    <option>Last 30 Days</option>
                    <option>Last 90 Days</option>
                </select>
                <button type="button" class="btn btn-outline px-4 py-2 text-sm">
                    <img src="https://api.iconify.design/mdi:download.svg?color=%232563EB" alt="" class="w-5 h-5 mr-2" aria-hidden="true">
                    Export
                </button>
            </div>

            <!-- History Table -->
            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead class="bg-background border-b border-border">
                        <tr>
                            <th class="px-4 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider">Date/Time</th>
                            <th class="px-4 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider">Message</th>
                            <th class="px-4 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider">Recipients</th>
                            <th class="px-4 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider">Status</th>
                            <th class="px-4 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider">Delivery</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border">
                        <tr class="hover:bg-background transition-colors">
                            <td class="px-4 py-3 text-sm text-text-primary">Dec 1, 2025 4:45 PM</td>
                            <td class="px-4 py-3 text-sm text-text-primary">Shift Reminder - Morning Team</td>
                            <td class="px-4 py-3 text-sm text-text-secondary">24 devices</td>
                            <td class="px-4 py-3"><span class="badge badge-success">Delivered</span></td>
                            <td class="px-4 py-3 text-sm text-text-secondary">23/24 (1.2s avg)</td>
                        </tr>
                        <tr class="hover:bg-background transition-colors">
                            <td class="px-4 py-3 text-sm text-text-primary">Dec 1, 2025 4:30 PM</td>
                            <td class="px-4 py-3 text-sm text-text-primary">Inventory Alert - Low Stock</td>
                            <td class="px-4 py-3 text-sm text-text-secondary">8 devices</td>
                            <td class="px-4 py-3"><span class="badge badge-success">Delivered</span></td>
                            <td class="px-4 py-3 text-sm text-text-secondary">8/8 (0.9s avg)</td>
                        </tr>
                        <tr class="hover:bg-background transition-colors">
                            <td class="px-4 py-3 text-sm text-text-primary">Dec 1, 2025 3:00 PM</td>
                            <td class="px-4 py-3 text-sm text-text-primary">Schedule Update - All Staff</td>
                            <td class="px-4 py-3 text-sm text-text-secondary">45 devices</td>
                            <td class="px-4 py-3"><span class="badge badge-warning">Partial</span></td>
                            <td class="px-4 py-3 text-sm text-text-secondary">42/45 (2.1s avg)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Success Toast Notification -->
    <div id="successToast" class="fixed bottom-6 right-6 z-50 hidden animate-slide-up">
        <div class="card p-4 shadow-lg flex items-center gap-3 min-w-[320px]">
            <div class="flex-shrink-0 w-10 h-10 bg-success-100 rounded-lg flex items-center justify-center">
                <img src="https://api.iconify.design/mdi:check-circle.svg?color=%2310B981" alt="" class="w-6 h-6" aria-hidden="true">
            </div>
            <div class="flex-1">
                <p class="text-sm font-medium text-text-primary">Test notification sent!</p>
                <p class="text-xs text-text-secondary">Delivery tracking in progress...</p>
            </div>
            <button type="button" id="closeToast" class="text-text-secondary hover:text-text-primary">
                <img src="https://api.iconify.design/mdi:close.svg?color=%236B7280" alt="" class="w-5 h-5" aria-hidden="true">
            </button>
        </div>
    </div>
</body>
</html>